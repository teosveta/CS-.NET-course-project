/*
 * ============================================================================
 *                        БИБЛИОТЕЧНА СИСТЕМА
 *                    Курсов проект по ООП с C# .NET
 * ============================================================================
 * 
 * Автор: Теосвета Красимирова Велкова
 * Факултетен номер: F108355
 * 
 * Курс: "Основи на програмиране на приложения с Microsoft Visual C# .NET"
 * Дата: 2025
 * 
 * ============================================================================
 */

==============================================================================
                              СЪДЪРЖАНИЕ
==============================================================================

1. Описание на проекта
2. ООП концепции, демонстрирани в проекта
3. Структура на файловете
4. Описание на класовете
5. Как да стартирате проекта
6. Функционалности на приложението
7. Технически изисквания

==============================================================================
                        1. ОПИСАНИЕ НА ПРОЕКТА
==============================================================================

Този проект представлява Windows Forms приложение за управление на библиотека
с книги. Приложението позволява добавяне, заемане, връщане и изтриване на
книги, както и филтриране по статус (всички/налични/заети).

Проектът демонстрира основните принципи на обектно-ориентираното програмиране,
изучавани в първата половина на курса:
- Класове и обекти
- Енкапсулация
- Наследяване
- Полиморфизъм
- Интерфейси
- Колекции
- Делегати

==============================================================================
                2. ООП КОНЦЕПЦИИ, ДЕМОНСТРИРАНИ В ПРОЕКТА
==============================================================================

--------------------------------------------------------------------------------
2.1 КЛАСОВЕ И ОБЕКТИ
--------------------------------------------------------------------------------

Класът е шаблон, който описва структурата и поведението на обектите.
Обектът е конкретен екземпляр на клас.

В проекта:
- Book - клас за обикновена книга
- EBook - клас за електронна книга
- Library - клас за управление на библиотеката
- MainForm - клас за потребителския интерфейс

Пример за създаване на обект:
    Book myBook = new Book("Под игото", "Иван Вазов", 1894);

--------------------------------------------------------------------------------
2.2 ЕНКАПСУЛАЦИЯ
--------------------------------------------------------------------------------

Енкапсулацията е скриване на вътрешната имплементация и предоставяне на
контролиран достъп чрез публични свойства и методи.

В проекта:
- Използваме properties (свойства) вместо public полета
- В Library класа, списъкът с книги е private
- Достъпът до данните става само чрез public методи

Пример:
    public string Title { get; set; }  // Автоматично свойство

--------------------------------------------------------------------------------
2.3 НАСЛЕДЯВАНЕ
--------------------------------------------------------------------------------

Наследяването позволява на нов клас да придобие свойствата и методите
на съществуващ клас и да ги разшири.

В проекта:
- EBook наследява Book
- EBook добавя нови свойства: FileSizeMB, Format
- EBook презаписва метода GetInfo() за да показва допълнителна информация

Пример:
    public class EBook : Book  // EBook наследява Book
    {
        public double FileSizeMB { get; set; }  // Ново свойство
    }

--------------------------------------------------------------------------------
2.4 ПОЛИМОРФИЗЪМ
--------------------------------------------------------------------------------

Полиморфизмът позволява един и същи метод да има различно поведение
в различните класове.

В проекта:
- GetInfo() е virtual в Book и override в EBook
- Когато извикаме GetInfo() на EBook обект, се изпълнява версията от EBook
- В колекцията List<Book> могат да се съхраняват и Book, и EBook обекти

Пример:
    // В Book
    public virtual string GetInfo() { ... }
    
    // В EBook
    public override string GetInfo() { ... }

--------------------------------------------------------------------------------
2.5 ИНТЕРФЕЙСИ
--------------------------------------------------------------------------------

Интерфейсът дефинира договор - набор от методи и свойства, които
класовете трябва да имплементират.

В проекта:
- IBorrowable интерфейс дефинира методи за заемане и връщане
- Book имплементира IBorrowable
- Това позволява еднакво третиране на всички заемаеми обекти

Пример:
    public interface IBorrowable
    {
        void Borrow(string borrowerName);
        void Return();
    }
    
    public class Book : IBorrowable { ... }

--------------------------------------------------------------------------------
2.6 КОЛЕКЦИИ
--------------------------------------------------------------------------------

Колекциите са структури данни, които съхраняват множество елементи.

В проекта:
- Library използва List<Book> за съхранение на книгите
- List<T> е generic колекция с динамичен размер
- Използваме методи като Add(), Remove(), foreach за обхождане

Пример:
    private List<Book> books = new List<Book>();
    books.Add(new Book(...));

--------------------------------------------------------------------------------
2.7 ДЕЛЕГАТИ
--------------------------------------------------------------------------------

Делегатът е тип, който представлява референция към метод.
Използва се за callback механизми и събития.

В проекта:
- LibraryNotification е делегат за известяване
- Когато се добави/заеме/върне книга, се извиква делегатът
- MainForm регистрира метод към делегата за показване на известия

Пример:
    // Дефиниция на делегат
    public delegate void LibraryNotification(string message);
    
    // Регистрация на метод
    library.OnNotification += ShowNotification;
    
    // Извикване на делегата
    OnNotification("Добавена книга: ...");

==============================================================================
                        3. СТРУКТУРА НА ФАЙЛОВЕТЕ
==============================================================================

LibraryProject/
│
├── IBorrowable.cs          - Интерфейс за заемаеми обекти
├── Book.cs                 - Базов клас за книга
├── EBook.cs                - Наследен клас за електронна книга
├── Library.cs              - Клас за управление на библиотеката
│                             (съдържа и делегата LibraryNotification)
│
├── MainForm.cs             - Логика на главната форма
├── MainForm.Designer.cs    - Дизайн на главната форма (контроли)
├── MainForm.resx           - Ресурси за формата
│
├── Program.cs              - Входна точка на приложението
│
├── Properties/
│   └── AssemblyInfo.cs     - Метаданни за приложението
│
├── App.config              - Конфигурационен файл
├── LibraryProject.csproj   - Проектен файл за Visual Studio
│
└── README.txt              - Този файл

==============================================================================
                        4. ОПИСАНИЕ НА КЛАСОВЕТЕ
==============================================================================

--------------------------------------------------------------------------------
IBorrowable (интерфейс)
--------------------------------------------------------------------------------
Свойства:
- IsBorrowed : bool         - Дали обектът е зает
- BorrowerName : string     - Име на заемателя

Методи:
- Borrow(borrowerName)      - Заемане на обекта
- Return()                  - Връщане на обекта

--------------------------------------------------------------------------------
Book (клас)
--------------------------------------------------------------------------------
Имплементира: IBorrowable

Свойства:
- Title : string            - Заглавие
- Author : string           - Автор
- Year : int                - Година на издаване
- IsBorrowed : bool         - Дали е заета
- BorrowerName : string     - Име на заемателя

Методи:
- Book(title, author, year) - Конструктор
- Borrow(borrowerName)      - Заемане на книгата (virtual)
- Return()                  - Връщане на книгата (virtual)
- GetInfo() : string        - Информация за книгата (virtual)
- ToString() : string       - Текстово представяне (override)

--------------------------------------------------------------------------------
EBook (клас)
--------------------------------------------------------------------------------
Наследява: Book

Допълнителни свойства:
- FileSizeMB : double       - Размер на файла в MB
- Format : string           - Формат (PDF, EPUB, MOBI)

Методи:
- EBook(title, author, year, fileSizeMB, format) - Конструктор
- GetInfo() : string        - Информация за книгата (override)

--------------------------------------------------------------------------------
Library (клас)
--------------------------------------------------------------------------------
Полета:
- books : List<Book>        - Колекция от книги (private)

Делегат:
- OnNotification            - Делегат за известия

Методи:
- Library()                 - Конструктор
- AddBook(book)             - Добавяне на книга
- GetAllBooks() : List<Book>       - Всички книги
- GetAvailableBooks() : List<Book> - Налични книги
- GetBorrowedBooks() : List<Book>  - Заети книги
- BorrowBook(title, borrower) : bool - Заемане на книга
- ReturnBook(title) : bool  - Връщане на книга
- RemoveBook(title) : bool  - Изтриване на книга
- SearchByAuthor(author) : List<Book> - Търсене по автор
- GetTotalBooks() : int     - Общ брой книги

--------------------------------------------------------------------------------
MainForm (клас)
--------------------------------------------------------------------------------
Наследява: Form

Полета:
- library : Library         - Обект за управление на книгите

Методи:
- MainForm()                - Конструктор
- ShowNotification(message) - Callback за делегата
- InitializeSampleBooks()   - Добавяне на примерни книги
- RefreshBookList()         - Обновяване на списъка
- UpdateStats()             - Обновяване на статистиката
- ClearInputFields()        - Изчистване на полетата

Event Handlers:
- btnAddBook_Click          - Добавяне на книга
- btnAddEBook_Click         - Добавяне на електронна книга
- btnBorrow_Click           - Заемане на книга
- btnReturn_Click           - Връщане на книга
- btnRemove_Click           - Изтриване на книга
- btnShowAll_Click          - Показване на всички книги
- btnShowAvailable_Click    - Показване на налични книги
- btnShowBorrowed_Click     - Показване на заети книги
- listBoxBooks_SelectedIndexChanged - Избиране на книга от списъка
- btnExit_Click             - Изход от приложението

==============================================================================
                    5. КАК ДА СТАРТИРАТЕ ПРОЕКТА
==============================================================================

ВАРИАНТ 1: Visual Studio (препоръчително)
-----------------------------------------
1. Отворете Visual Studio 2017 или по-нова версия
2. File → Open → Project/Solution
3. Изберете файла LibraryProject.csproj
4. Натиснете F5 или Debug → Start Debugging

ВАРИАНТ 2: Създаване на нов проект
----------------------------------
1. Отворете Visual Studio
2. File → New → Project
3. Изберете "Windows Forms App (.NET Framework)"
4. Име: LibraryProject
5. Framework: .NET Framework 4.7.2
6. Изтрийте автоматично създадения Form1.cs
7. Копирайте всички файлове от проекта в папката
8. В Solution Explorer: Add → Existing Item (добавете всички .cs файлове)
9. Build → Build Solution (Ctrl+Shift+B)
10. Debug → Start Debugging (F5)

==============================================================================
                6. ФУНКЦИОНАЛНОСТИ НА ПРИЛОЖЕНИЕТО
==============================================================================

1. ПОКАЗВАНЕ НА КНИГИ
   - "Всички" - показва всички книги в библиотеката
   - "Налични" - показва само наличните (незаети) книги
   - "Заети" - показва само заетите книги

2. ДОБАВЯНЕ НА КНИГИ
   - Попълнете полетата: Заглавие, Автор, Година
   - "Добави книга" - добавя обикновена книга
   - "Добави E-Book" - добавя електронна книга

3. ЗАЕМАНЕ НА КНИГИ
   - Попълнете полетата: Заглавие, Заемател
   - "Заеми книга" - маркира книгата като заета

4. ВРЪЩАНЕ НА КНИГИ
   - Попълнете полето: Заглавие
   - "Върни книга" - маркира книгата като налична

5. ИЗТРИВАНЕ НА КНИГИ
   - Попълнете полето: Заглавие
   - "Изтрий книга" - премахва книгата от библиотеката

6. ИЗВЕСТИЯ
   - Всяко действие показва известие с време
   - Известията се показват в долната част на формата

7. СТАТИСТИКА
   - Показва общ брой книги
   - Показва брой налични книги
   - Показва брой заети книги

8. АВТОМАТИЧНО ПОПЪЛВАНЕ
   - При избиране на книга от списъка, полетата се попълват автоматично

==============================================================================
                    7. ТЕХНИЧЕСКИ ИЗИСКВАНИЯ
==============================================================================

- Visual Studio 2017 или по-нова версия
- .NET Framework 4.7.2
- Windows операционна система

==============================================================================

Автор: Теосвета Красимирова Велкова
Факултетен номер: F108355

==============================================================================
